# An Iterated Function System (IFS) is:
#   a set of linear maps (affine transforms)
#   associated set of probabilities
#   all maps have eigenvalues < 1
#
# W(x,y) = T * X + B
# T is a 2x2 transform matrix
#    [ a b ]
#    [ c d ]
#
# X is a 2x1 column vector
#
# B is a 2x1 offset
#   [ e
#     f ]
#
# W = [ ax + by + e
#       cx + dy + f ]

#   [   a,   b,   c,  d,    e,   f,    p]
Sierpinski_triangle = [
    [ 0.5, 0.0, 0.0, 0.5, 0.0, 0.0, 0.33],
    [ 0.5, 0.0, 0.0, 0.5, 1.0, 0.0, 0.33],
    [ 0.5, 0.0, 0.0, 0.5, 0.5, 0.5, 0.34],
]

fern = [
    [ 0.0,  0.0,   0.0,  0.16, 0.0, 0.0,  0.01],
    [ 0.2, -0.26,  0.23, 0.22, 0.0, 1.6,  0.07],
    [-0.15, 0.28,  0.26, 0.24, 0.0, 0.44, 0.07],
    [ 0.85, 0.04, -0.04, 0.85, 0.0, 1.6,  0.85],
]

square = [
    [ 0.5, 0.0, 0.0, 0.5, 0.0, 0.0, 0.25],
    [ 0.5, 0.0, 0.0, 0.5, 0.5, 0.0, 0.25],
    [ 0.5, 0.0, 0.0, 0.5, 0.0, 0.5, 0.25],
    [ 0.5, 0.0, 0.0, 0.5, 0.5, 0.5, 0.25],
]

tree = [
    [ 0.0,   0.0,   0.0,  0.5,  0.0, 0.0, 0.05],
    [ 0.1,   0.0,   0.0,  0.1,  0.0, 0.2, 0.15],
    [ 0.42, -0.42,  0.42, 0.42, 0.0, 0.2, 0.40],
    [ 0.42,  0.42, -0.42, 0.42, 0.0, 0.2, 0.40],
]

# m1(z) = sz + 1
# m2(z) = sz - 1
# s = 0.33
cantor = [
    [ 0.33, 0.0, 0.0, 0.33,  1.0, 0, 0.5],
    [ 0.33, 0.0, 0.0, 0.33, -1.0, 0, 0.5]
]

# s = i/2 + 1/2
# sz = (i/2 + 1/2)(x + iy) = xi/2 + x/2 - y/2 + iy/2
#    = (x/2 - y/2) + (x/2 + y/2)i
dragon = [
    [0.5, -0.5, 0.5, 0.5,  1.5, 0, 0.5],
    [0.5, -0.5, 0.5, 0.5, -0.5, 0, 0.5]
]
